{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/carrot-foundation/schemas/refs/heads/main/schemas/ipfs/gas-id/v0.1.0/gas-id.details.schema.json",
  "title": "GasID Data",
  "type": "object",
  "required": [
    "summary",
    "methodology",
    "audit",
    "mass_id",
    "waste_classification",
    "origin_location",
    "prevented_emissions_calculation",
    "accredited_participants"
  ],
  "properties": {
    "summary": {
      "type": "object",
      "required": [
        "gas_type",
        "credit_type",
        "credit_amount",
        "prevented_co2e_kg"
      ],
      "properties": {
        "gas_type": {
          "$ref": "../../shared/definitions/v0.1.0/definitions.schema.json#/$defs/non_empty_string",
          "title": "Gas Type",
          "description": "Type of gas prevented"
        },
        "credit_type": {
          "$ref": "../../shared/definitions/v0.1.0/definitions.schema.json#/$defs/non_empty_string",
          "title": "Credit Type",
          "description": "Type of credit issued"
        },
        "credit_amount": {
          "$ref": "../../shared/definitions/v0.1.0/definitions.schema.json#/$defs/non_negative_float",
          "title": "Credit Amount",
          "description": "Amount of credits issued"
        },
        "prevented_co2e_kg": {
          "$ref": "../../shared/definitions/v0.1.0/definitions.schema.json#/$defs/weight_kg",
          "title": "Prevented Emissions (CO₂e kg)",
          "description": "CO₂e weight of the prevented emissions"
        }
      },
      "additionalProperties": false
    },
    "methodology": {
      "$ref": "../../shared/references/methodology-reference/v0.1.0/methodology-reference.schema.json"
    },
    "audit": {
      "$ref": "../../shared/references/audit-reference/v0.1.0/audit-reference.schema.json"
    },
    "mass_id": {
      "$ref": "../../shared/references/mass-id-reference/v0.1.0/mass-id-reference.schema.json"
    },
    "waste_classification": {
      "$ref": "../../shared/certificate/v0.1.0/certificate.schema.json#/$defs/waste_classification"
    },
    "origin_location": {
      "$ref": "../../shared/entities/location/v0.1.0/location.schema.json",
      "title": "Source Waste Origin Location",
      "description": "Location of the waste origin"
    },
    "prevented_emissions_calculation": {
      "type": "object",
      "required": ["formula", "method", "date", "values"],
      "properties": {
        "formula": {
          "$ref": "../../shared/definitions/v0.1.0/definitions.schema.json#/$defs/non_empty_string",
          "title": "Calculation Formula",
          "description": "Formula used to calculate the prevented emissions",
          "maxLength": 100
        },
        "method": {
          "$ref": "../../shared/definitions/v0.1.0/definitions.schema.json#/$defs/non_empty_string",
          "title": "Calculation Method",
          "description": "Method used to calculate the prevented emissions",
          "maxLength": 100
        },
        "date": {
          "$ref": "../../shared/definitions/v0.1.0/definitions.schema.json#/$defs/iso_date",
          "title": "Calculation Date",
          "description": "Date when the calculation was performed"
        },
        "values": {
          "type": "array",
          "title": "Calculation Values",
          "description": "Values used to calculate the prevented emissions",
          "items": {
            "type": "object",
            "required": ["reference", "value", "label"],
            "properties": {
              "reference": {
                "$ref": "../../shared/definitions/v0.1.0/definitions.schema.json#/$defs/non_empty_string",
                "maxLength": 3
              },
              "value": {
                "$ref": "../../shared/definitions/v0.1.0/definitions.schema.json#/$defs/non_negative_float"
              },
              "label": {
                "$ref": "../../shared/definitions/v0.1.0/definitions.schema.json#/$defs/non_empty_string",
                "maxLength": 100
              }
            }
          }
        }
      },
      "additionalProperties": false
    },
    "accredited_participants": {
      "$ref": "../../shared/certificate/v0.1.0/certificate.schema.json#/$defs/accredited_participants"
    },
    "participant_rewards": {
      "$ref": "../../shared/certificate/v0.1.0/certificate.schema.json#/$defs/participant_rewards"
    }
  },
  "additionalProperties": false
}
