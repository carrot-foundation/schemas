{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "CreditPurchaseReceipt NFT IPFS Record",
  "description": "Complete CreditPurchaseReceipt NFT IPFS record including attributes and credit purchase data",
  "$id": "https://raw.githubusercontent.com/carrot-foundation/schemas/refs/tags/0.1.60/schemas/ipfs/credit-purchase-receipt/credit-purchase-receipt.schema.json",
  "version": "0.1.60",
  "type": "object",
  "properties": {
    "$schema": {
      "title": "JSON Schema URI",
      "description": "URI of the JSON Schema used to validate this record",
      "example": "https://raw.githubusercontent.com/carrot-foundation/schemas/refs/heads/main/schemas/ipfs/shared/base/base.schema.json",
      "type": "string",
      "format": "uri"
    },
    "schema": {
      "type": "object",
      "properties": {
        "hash": {
          "title": "Schema Hash",
          "description": "SHA-256 hash of the JSON Schema this record was validated against",
          "examples": [
            "87f633634cc4b02f628685651f0a29b7bfa22a0bd841f725c6772dd00a58d489"
          ],
          "type": "string",
          "pattern": "^[0-9a-fA-F]{64}$"
        },
        "type": {
          "title": "CreditPurchaseReceipt Schema Type",
          "description": "Schema type identifier for this record",
          "type": "string",
          "const": "CreditPurchaseReceipt"
        },
        "version": {
          "title": "Schema Version",
          "description": "Version of the schema, using semantic versioning",
          "examples": [
            "0.1.0",
            "1.0.0",
            "2.1.3"
          ],
          "type": "string",
          "minLength": 1,
          "pattern": "^v?\\d+\\.\\d+\\.\\d+(-[a-zA-Z0-9.-]+)?(\\+[a-zA-Z0-9.-]+)?$"
        },
        "ipfs_uri": {
          "title": "Schema IPFS URI",
          "description": "IPFS URI for this JSON Schema when the primary schema URI is unavailable",
          "examples": [
            "ipfs://bafybeigdyrztvzl5cceubvaxob7iqh6f3f7s36c74ojav2xsz2uib2g3vm",
            "ipfs://bafybeihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku"
          ],
          "type": "string",
          "minLength": 1,
          "pattern": "^ipfs:\\/\\/(?:Qm[1-9A-HJ-NP-Za-km-z]{44}|[bB][a-z2-7]{58,}|[zZ][1-9A-HJ-NP-Za-km-z]{48,})(?:\\/[^\\s]*)?$"
        }
      },
      "required": [
        "hash",
        "type",
        "version",
        "ipfs_uri"
      ],
      "additionalProperties": false
    },
    "created_at": {
      "title": "Created At",
      "description": "ISO 8601 creation timestamp for this record",
      "examples": [
        "2024-12-05T11:02:47.000Z"
      ],
      "type": "string",
      "format": "date-time",
      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z|([+-](?:[01]\\d|2[0-3]):[0-5]\\d)))$"
    },
    "external_id": {
      "title": "External ID",
      "description": "UUID identifier for external system references",
      "examples": [
        "ad44dd3f-f176-4b98-bf78-5ee6e77d0530"
      ],
      "type": "string",
      "format": "uuid",
      "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
    },
    "external_url": {
      "title": "External URL",
      "description": "URL pointing to external resources",
      "examples": [
        "https://explore.carrot.eco/",
        "https://whitepaper.carrot.eco/"
      ],
      "type": "string",
      "format": "uri"
    },
    "content_hash": {
      "title": "Content Hash",
      "description": "SHA-256 hash of RFC 8785 canonicalized JSON after schema validation",
      "examples": [
        "87f633634cc4b02f628685651f0a29b7bfa22a0bd841f725c6772dd00a58d489"
      ],
      "type": "string",
      "pattern": "^[0-9a-fA-F]{64}$"
    },
    "viewer_reference": {
      "title": "Metadata Viewer Reference",
      "description": "References to the metadata viewer dApp, including immutable and latest entry points",
      "type": "object",
      "properties": {
        "ipfs_uri": {
          "title": "Viewer IPFS URI",
          "description": "IPFS URI of the metadata viewer dApp build",
          "examples": [
            "ipfs://bafybeigdyrztvzl5cceubvaxob7iqh6f3f7s36c74ojav2xsz2uib2g3vm",
            "ipfs://bafybeihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku"
          ],
          "type": "string",
          "minLength": 1,
          "pattern": "^ipfs:\\/\\/(?:Qm[1-9A-HJ-NP-Za-km-z]{44}|[bB][a-z2-7]{58,}|[zZ][1-9A-HJ-NP-Za-km-z]{48,})(?:\\/[^\\s]*)?$"
        },
        "integrity_hash": {
          "title": "Viewer Integrity Hash",
          "description": "SHA-256 hash of the published viewer bundle to verify integrity",
          "examples": [
            "87f633634cc4b02f628685651f0a29b7bfa22a0bd841f725c6772dd00a58d489"
          ],
          "type": "string",
          "pattern": "^[0-9a-fA-F]{64}$"
        }
      },
      "required": [
        "ipfs_uri",
        "integrity_hash"
      ],
      "additionalProperties": false
    },
    "environment": {
      "title": "Record Environment",
      "description": "Environment information for the record",
      "type": "object",
      "properties": {
        "blockchain_network": {
          "title": "Blockchain Network",
          "description": "Blockchain network where this record is deployed",
          "type": "string",
          "enum": [
            "mainnet",
            "testnet"
          ]
        },
        "deployment": {
          "title": "Deployment Environment",
          "description": "System environment where this record was generated",
          "type": "string",
          "enum": [
            "production",
            "development",
            "testing"
          ]
        },
        "data_set_name": {
          "title": "Data Set Name",
          "description": "Name of the data set for this record",
          "type": "string",
          "enum": [
            "TEST",
            "PROD"
          ]
        }
      },
      "required": [
        "blockchain_network",
        "deployment",
        "data_set_name"
      ],
      "additionalProperties": false
    },
    "data": {
      "title": "Credit Purchase Receipt Data",
      "description": "Complete data structure for a credit purchase receipt",
      "type": "object",
      "properties": {
        "summary": {
          "title": "Credit Purchase Receipt Summary",
          "description": "Summary totals for the credit purchase including amounts and collections represented",
          "type": "object",
          "properties": {
            "total_certificates": {
              "title": "Total Certificates",
              "description": "Total number of certificates represented in the receipt",
              "examples": [
                1,
                123,
                456
              ],
              "type": "integer",
              "minimum": 1,
              "maximum": 9007199254740991
            },
            "total_amount_usdc": {
              "title": "Total Amount (USDC)",
              "description": "Total amount paid in USDC for the purchase",
              "examples": [
                0,
                100.5,
                1000.123456,
                50000.12
              ],
              "type": "number",
              "minimum": 0
            },
            "total_credits": {
              "title": "Total Credits",
              "description": "Total amount of credits purchased",
              "examples": [
                0,
                45.2,
                72.5
              ],
              "type": "number",
              "minimum": 0
            },
            "purchased_at": {
              "title": "Purchased At",
              "description": "ISO 8601 timestamp when the purchase was completed",
              "examples": [
                "2024-12-05T11:02:47.000Z"
              ],
              "type": "string",
              "format": "date-time",
              "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z|([+-](?:[01]\\d|2[0-3]):[0-5]\\d)))$"
            }
          },
          "required": [
            "total_certificates",
            "total_amount_usdc",
            "total_credits",
            "purchased_at"
          ],
          "additionalProperties": false
        },
        "buyer": {
          "title": "Buyer",
          "description": "Buyer information including wallet address, optional ID, and optional identity",
          "type": "object",
          "properties": {
            "wallet_address": {
              "title": "Buyer Wallet Address",
              "description": "Ethereum address receiving the credits",
              "examples": [
                "0x1234567890abcdef1234567890abcdef12345678"
              ],
              "type": "string",
              "pattern": "^0x[a-f0-9]{40}$"
            },
            "id": {
              "title": "Buyer ID",
              "description": "Unique identifier for the buyer",
              "examples": [
                "ad44dd3f-f176-4b98-bf78-5ee6e77d0530"
              ],
              "type": "string",
              "format": "uuid",
              "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
            },
            "identity": {
              "title": "Identity",
              "description": "Participant identity information",
              "type": "object",
              "properties": {
                "name": {
                  "title": "Identity Name",
                  "description": "Display name for the participant",
                  "examples": [
                    "EcoTech Solutions Inc.",
                    "Climate Action Corp"
                  ],
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 100
                },
                "external_id": {
                  "title": "Identity External ID",
                  "description": "External identifier for the participant",
                  "examples": [
                    "ad44dd3f-f176-4b98-bf78-5ee6e77d0530"
                  ],
                  "type": "string",
                  "format": "uuid",
                  "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
                },
                "external_url": {
                  "title": "Identity External URL",
                  "description": "External URL for the participant profile",
                  "examples": [
                    "https://explore.carrot.eco/",
                    "https://whitepaper.carrot.eco/"
                  ],
                  "type": "string",
                  "format": "uri"
                }
              },
              "required": [
                "name",
                "external_id",
                "external_url"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "wallet_address"
          ],
          "additionalProperties": false
        },
        "collections": {
          "title": "Collections",
          "description": "Collections included in the purchase",
          "minItems": 1,
          "type": "array",
          "items": {
            "title": "Collection",
            "description": "Collection included in the purchase",
            "type": "object",
            "properties": {
              "slug": {
                "title": "Collection Slug",
                "description": "URL-friendly identifier for a collection",
                "examples": [
                  "bold-cold-start-carazinho",
                  "bold-brazil"
                ],
                "type": "string",
                "enum": [
                  "bold-innovators",
                  "bold-cold-start-jundiai",
                  "bold-cold-start-carazinho",
                  "bold-brazil"
                ]
              },
              "external_id": {
                "title": "Collection External ID",
                "description": "External identifier for the collection",
                "examples": [
                  "ad44dd3f-f176-4b98-bf78-5ee6e77d0530"
                ],
                "type": "string",
                "format": "uuid",
                "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
              },
              "name": {
                "title": "Collection Name",
                "description": "Display name of the collection",
                "examples": [
                  "BOLD Cold Start - Carazinho",
                  "BOLD Brazil"
                ],
                "type": "string",
                "enum": [
                  "BOLD Innovators",
                  "BOLD Cold Start - Carazinho",
                  "BOLD Cold Start - Jundiaí",
                  "BOLD Brazil"
                ]
              },
              "external_url": {
                "title": "Collection External URL",
                "description": "External URL for the collection",
                "examples": [
                  "https://explore.carrot.eco/",
                  "https://whitepaper.carrot.eco/"
                ],
                "type": "string",
                "format": "uri"
              },
              "ipfs_uri": {
                "title": "Collection IPFS URI",
                "description": "IPFS URI for the collection metadata",
                "examples": [
                  "ipfs://bafybeigdyrztvzl5cceubvaxob7iqh6f3f7s36c74ojav2xsz2uib2g3vm",
                  "ipfs://bafybeihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku"
                ],
                "type": "string",
                "minLength": 1,
                "pattern": "^ipfs:\\/\\/(?:Qm[1-9A-HJ-NP-Za-km-z]{44}|[bB][a-z2-7]{58,}|[zZ][1-9A-HJ-NP-Za-km-z]{48,})(?:\\/[^\\s]*)?$"
              }
            },
            "required": [
              "slug",
              "external_id",
              "name",
              "external_url",
              "ipfs_uri"
            ],
            "additionalProperties": false
          }
        },
        "credits": {
          "title": "Credits",
          "description": "Credits included in the purchase",
          "minItems": 1,
          "type": "array",
          "items": {
            "title": "Credit",
            "description": "Credit token included in the purchase",
            "type": "object",
            "properties": {
              "slug": {
                "title": "Credit Token Slug",
                "description": "URL-friendly identifier for the credit token",
                "examples": [
                  "carbon-methane",
                  "biowaste"
                ],
                "type": "string",
                "enum": [
                  "carbon-methane",
                  "biowaste"
                ]
              },
              "symbol": {
                "title": "Credit Token Symbol",
                "description": "ERC20 token symbol identifier",
                "examples": [
                  "C-CARB.CH4",
                  "C-BIOW"
                ],
                "type": "string",
                "enum": [
                  "C-CARB.CH4",
                  "C-BIOW"
                ]
              },
              "external_id": {
                "title": "Credit External ID",
                "description": "External identifier for the credit",
                "examples": [
                  "ad44dd3f-f176-4b98-bf78-5ee6e77d0530"
                ],
                "type": "string",
                "format": "uuid",
                "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
              },
              "external_url": {
                "title": "Credit External URL",
                "description": "External URL for the credit",
                "examples": [
                  "https://explore.carrot.eco/",
                  "https://whitepaper.carrot.eco/"
                ],
                "type": "string",
                "format": "uri"
              },
              "ipfs_uri": {
                "title": "Credit IPFS URI",
                "description": "IPFS URI for the credit details",
                "examples": [
                  "ipfs://bafybeigdyrztvzl5cceubvaxob7iqh6f3f7s36c74ojav2xsz2uib2g3vm",
                  "ipfs://bafybeihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku"
                ],
                "type": "string",
                "minLength": 1,
                "pattern": "^ipfs:\\/\\/(?:Qm[1-9A-HJ-NP-Za-km-z]{44}|[bB][a-z2-7]{58,}|[zZ][1-9A-HJ-NP-Za-km-z]{48,})(?:\\/[^\\s]*)?$"
              },
              "smart_contract_address": {
                "title": "Smart Contract Address",
                "description": "Ethereum-compatible address of the smart contract that mints and manages this token",
                "examples": [
                  "0x1234567890abcdef1234567890abcdef12345678"
                ],
                "type": "string",
                "pattern": "^0x[a-f0-9]{40}$"
              }
            },
            "required": [
              "slug",
              "symbol",
              "external_id",
              "external_url",
              "ipfs_uri",
              "smart_contract_address"
            ],
            "additionalProperties": false
          }
        },
        "certificates": {
          "title": "Certificates",
          "description": "Certificates involved in the purchase",
          "minItems": 1,
          "type": "array",
          "items": {
            "title": "Certificate",
            "description": "Certificate associated with the purchase",
            "type": "object",
            "properties": {
              "token_id": {
                "title": "Certificate Token ID",
                "description": "Token ID of the certificate",
                "examples": [
                  "456789",
                  "1000000"
                ],
                "type": "string",
                "minLength": 1,
                "pattern": "^\\d+$"
              },
              "type": {
                "title": "Certificate Type",
                "description": "Type of certificate (e.g., GasID, RecycledID)",
                "examples": [
                  "GasID",
                  "RecycledID"
                ],
                "type": "string",
                "enum": [
                  "GasID",
                  "RecycledID"
                ]
              },
              "external_id": {
                "title": "Certificate External ID",
                "description": "External identifier for the certificate",
                "examples": [
                  "ad44dd3f-f176-4b98-bf78-5ee6e77d0530"
                ],
                "type": "string",
                "format": "uuid",
                "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
              },
              "external_url": {
                "title": "Certificate External URL",
                "description": "External URL for the certificate",
                "examples": [
                  "https://explore.carrot.eco/",
                  "https://whitepaper.carrot.eco/"
                ],
                "type": "string",
                "format": "uri"
              },
              "ipfs_uri": {
                "title": "Certificate IPFS URI",
                "description": "IPFS URI for the certificate metadata",
                "examples": [
                  "ipfs://bafybeigdyrztvzl5cceubvaxob7iqh6f3f7s36c74ojav2xsz2uib2g3vm",
                  "ipfs://bafybeihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku"
                ],
                "type": "string",
                "minLength": 1,
                "pattern": "^ipfs:\\/\\/(?:Qm[1-9A-HJ-NP-Za-km-z]{44}|[bB][a-z2-7]{58,}|[zZ][1-9A-HJ-NP-Za-km-z]{48,})(?:\\/[^\\s]*)?$"
              },
              "smart_contract_address": {
                "title": "Smart Contract Address",
                "description": "Ethereum-compatible address of the smart contract that mints and manages this token",
                "examples": [
                  "0x1234567890abcdef1234567890abcdef12345678"
                ],
                "type": "string",
                "pattern": "^0x[a-f0-9]{40}$"
              },
              "total_amount": {
                "title": "Certificate Total Amount",
                "description": "Total credits available in this certificate",
                "examples": [
                  0,
                  45.2,
                  72.5
                ],
                "type": "number",
                "minimum": 0
              },
              "mass_id": {
                "title": "MassID Reference with Smart Contract",
                "description": "Reference to a MassID record with smart contract address",
                "type": "object",
                "properties": {
                  "external_id": {
                    "title": "MassID External ID",
                    "description": "Unique identifier for the MassID",
                    "examples": [
                      "ad44dd3f-f176-4b98-bf78-5ee6e77d0530"
                    ],
                    "type": "string",
                    "format": "uuid",
                    "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
                  },
                  "token_id": {
                    "title": "MassID Token ID",
                    "description": "NFT token ID of the MassID",
                    "examples": [
                      "456789",
                      "1000000"
                    ],
                    "type": "string",
                    "minLength": 1,
                    "pattern": "^\\d+$"
                  },
                  "external_url": {
                    "title": "MassID External URL",
                    "description": "URL to view the MassID on Carrot Explorer",
                    "examples": [
                      "https://explore.carrot.eco/",
                      "https://whitepaper.carrot.eco/"
                    ],
                    "type": "string",
                    "format": "uri"
                  },
                  "ipfs_uri": {
                    "title": "MassID IPFS URI",
                    "description": "IPFS URI of the MassID record",
                    "examples": [
                      "ipfs://bafybeigdyrztvzl5cceubvaxob7iqh6f3f7s36c74ojav2xsz2uib2g3vm",
                      "ipfs://bafybeihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku"
                    ],
                    "type": "string",
                    "minLength": 1,
                    "pattern": "^ipfs:\\/\\/(?:Qm[1-9A-HJ-NP-Za-km-z]{44}|[bB][a-z2-7]{58,}|[zZ][1-9A-HJ-NP-Za-km-z]{48,})(?:\\/[^\\s]*)?$"
                  },
                  "smart_contract_address": {
                    "title": "Smart Contract Address",
                    "description": "Ethereum-compatible address of the smart contract that mints and manages this token",
                    "examples": [
                      "0x1234567890abcdef1234567890abcdef12345678"
                    ],
                    "type": "string",
                    "pattern": "^0x[a-f0-9]{40}$"
                  }
                },
                "required": [
                  "external_id",
                  "token_id",
                  "external_url",
                  "ipfs_uri",
                  "smart_contract_address"
                ],
                "additionalProperties": false
              },
              "credit_slug": {
                "title": "Credit Token Slug",
                "description": "Slug of the credit type for this certificate",
                "examples": [
                  "carbon-methane",
                  "biowaste"
                ],
                "type": "string",
                "enum": [
                  "carbon-methane",
                  "biowaste"
                ]
              },
              "collections": {
                "title": "Certificate Collections",
                "description": "Collections associated with this certificate, each with purchased and retired amounts",
                "minItems": 1,
                "type": "array",
                "items": {
                  "title": "Certificate Collection Item (Purchase)",
                  "description": "Collection reference with purchased and retired amounts for a certificate in a purchase receipt",
                  "type": "object",
                  "properties": {
                    "slug": {
                      "title": "Collection Slug",
                      "description": "Slug of the collection",
                      "examples": [
                        "bold-cold-start-carazinho",
                        "bold-brazil"
                      ],
                      "type": "string",
                      "enum": [
                        "bold-innovators",
                        "bold-cold-start-jundiai",
                        "bold-cold-start-carazinho",
                        "bold-brazil"
                      ]
                    },
                    "purchased_amount": {
                      "title": "Collection Purchased Amount",
                      "description": "Credits purchased from this collection for this certificate",
                      "examples": [
                        0,
                        45.2,
                        72.5
                      ],
                      "type": "number",
                      "minimum": 0
                    },
                    "retired_amount": {
                      "title": "Collection Retired Amount",
                      "description": "Credits retired from this collection for this certificate (0 if none)",
                      "examples": [
                        0,
                        45.2,
                        72.5
                      ],
                      "type": "number",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "slug",
                    "purchased_amount",
                    "retired_amount"
                  ],
                  "additionalProperties": false
                }
              }
            },
            "required": [
              "token_id",
              "type",
              "external_id",
              "external_url",
              "ipfs_uri",
              "smart_contract_address",
              "total_amount",
              "mass_id",
              "credit_slug",
              "collections"
            ],
            "additionalProperties": false
          }
        },
        "participant_rewards": {
          "title": "Participant Rewards",
          "description": "Rewards distributed to participants in the supply chain for this purchase",
          "minItems": 1,
          "type": "array",
          "items": {
            "title": "Participant Reward",
            "description": "Reward distribution for a participant",
            "type": "object",
            "properties": {
              "participant_id_hash": {
                "title": "Participant ID Hash",
                "description": "SHA-256 hash representing a participant identifier (SHA-256 hex string)",
                "examples": [
                  "87f633634cc4b02f628685651f0a29b7bfa22a0bd841f725c6772dd00a58d489"
                ],
                "type": "string",
                "pattern": "^[0-9a-fA-F]{64}$"
              },
              "roles": {
                "title": "Participant Roles",
                "description": "Roles the participant has in the supply chain",
                "minItems": 1,
                "type": "array",
                "items": {
                  "title": "Participant Role",
                  "description": "Role that a participant plays in the waste management supply chain",
                  "examples": [
                    "Waste Generator",
                    "Hauler",
                    "Recycler"
                  ],
                  "type": "string",
                  "enum": [
                    "Community Impact Pool",
                    "Hauler",
                    "Network Integrator",
                    "Methodology Author",
                    "Methodology Developer",
                    "Network",
                    "Processor",
                    "Recycler",
                    "Waste Generator"
                  ]
                }
              },
              "usdc_amount": {
                "title": "USDC Reward Amount",
                "description": "USDC amount allocated to this participant",
                "examples": [
                  0,
                  100.5,
                  1000.123456,
                  50000.12
                ],
                "type": "number",
                "minimum": 0
              }
            },
            "required": [
              "participant_id_hash",
              "roles",
              "usdc_amount"
            ],
            "additionalProperties": false
          }
        },
        "retirement_receipt": {
          "title": "Retirement Receipt Reference",
          "description": "Reference to the retirement receipt NFT",
          "type": "object",
          "properties": {
            "token_id": {
              "title": "Retirement Receipt Token ID",
              "description": "Token ID of the retirement receipt NFT",
              "examples": [
                "456789",
                "1000000"
              ],
              "type": "string",
              "minLength": 1,
              "pattern": "^\\d+$"
            },
            "external_id": {
              "title": "Retirement Receipt External ID",
              "description": "External identifier for the retirement receipt",
              "examples": [
                "ad44dd3f-f176-4b98-bf78-5ee6e77d0530"
              ],
              "type": "string",
              "format": "uuid",
              "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$"
            },
            "external_url": {
              "title": "Retirement Receipt External URL",
              "description": "External URL for the retirement receipt",
              "examples": [
                "https://explore.carrot.eco/",
                "https://whitepaper.carrot.eco/"
              ],
              "type": "string",
              "format": "uri"
            },
            "ipfs_uri": {
              "title": "Retirement Receipt IPFS URI",
              "description": "IPFS URI for the retirement receipt metadata",
              "examples": [
                "ipfs://bafybeigdyrztvzl5cceubvaxob7iqh6f3f7s36c74ojav2xsz2uib2g3vm",
                "ipfs://bafybeihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku"
              ],
              "type": "string",
              "minLength": 1,
              "pattern": "^ipfs:\\/\\/(?:Qm[1-9A-HJ-NP-Za-km-z]{44}|[bB][a-z2-7]{58,}|[zZ][1-9A-HJ-NP-Za-km-z]{48,})(?:\\/[^\\s]*)?$"
            },
            "smart_contract_address": {
              "title": "Smart Contract Address",
              "description": "Ethereum-compatible address of the smart contract that mints and manages this token",
              "examples": [
                "0x1234567890abcdef1234567890abcdef12345678"
              ],
              "type": "string",
              "pattern": "^0x[a-f0-9]{40}$"
            }
          },
          "required": [
            "token_id",
            "external_id",
            "external_url",
            "ipfs_uri",
            "smart_contract_address"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "summary",
        "buyer",
        "collections",
        "credits",
        "certificates",
        "participant_rewards"
      ],
      "additionalProperties": false
    },
    "full_content_hash": {
      "title": "Full Content Hash",
      "description": "SHA-256 hash of the original JSON content including private data before schema validation",
      "examples": [
        "87f633634cc4b02f628685651f0a29b7bfa22a0bd841f725c6772dd00a58d489"
      ],
      "type": "string",
      "pattern": "^[0-9a-fA-F]{64}$"
    },
    "blockchain": {
      "title": "Blockchain Information",
      "description": "Blockchain deployment information including smart contract address, network, and token identifier",
      "type": "object",
      "properties": {
        "smart_contract_address": {
          "title": "Smart Contract Address",
          "description": "Ethereum-compatible address of the smart contract that mints and manages this token",
          "examples": [
            "0x1234567890abcdef1234567890abcdef12345678"
          ],
          "type": "string",
          "pattern": "^0x[a-f0-9]{40}$"
        },
        "chain_id": {
          "title": "Chain ID",
          "description": "Blockchain network chain identifier (e.g., 137 for Polygon mainnet, 80002 for Amoy testnet)",
          "examples": [
            137,
            80002
          ],
          "anyOf": [
            {
              "type": "number",
              "const": 137
            },
            {
              "type": "number",
              "const": 80002
            }
          ]
        },
        "network_name": {
          "title": "Blockchain Network Name",
          "description": "Blockchain network name. Supported values include Polygon and Amoy",
          "examples": [
            "Polygon",
            "Amoy"
          ],
          "type": "string",
          "enum": [
            "Polygon",
            "Amoy"
          ]
        },
        "token_id": {
          "title": "Token ID",
          "description": "NFT token ID",
          "examples": [
            "456789",
            "1000000"
          ],
          "type": "string",
          "minLength": 1,
          "pattern": "^\\d+$"
        }
      },
      "required": [
        "smart_contract_address",
        "chain_id",
        "network_name",
        "token_id"
      ],
      "additionalProperties": false
    },
    "name": {
      "title": "Credit Purchase Receipt Name",
      "description": "Full display name for this Credit Purchase Receipt NFT. Format: \"Credit Purchase Receipt #[token_id] • [amount] Credits Purchased\"",
      "examples": [
        "Credit Purchase Receipt #987 • 8.5 Credits Purchased",
        "Credit Purchase Receipt #1200 • 15.0 Credits Purchased"
      ],
      "type": "string",
      "minLength": 1,
      "maxLength": 100,
      "pattern": "^Credit Purchase Receipt #\\d+ • .+ Credits Purchased$"
    },
    "short_name": {
      "title": "Credit Purchase Receipt Short Name",
      "description": "Compact name for UI summaries, tables, or tooltips. Format: \"Purchase Receipt #[token_id]\"",
      "examples": [
        "Purchase Receipt #987",
        "Purchase Receipt #1200"
      ],
      "type": "string",
      "minLength": 1,
      "maxLength": 50,
      "pattern": "^Purchase Receipt #\\d+$"
    },
    "description": {
      "title": "Description",
      "description": "Human-readable summary describing the waste batch, origin, processing method, and chain of custody. Ideally, maximum 300 characters.",
      "examples": [
        "This MassID represents 3 metric tons of organic food waste from Enlatados Produção, tracked through complete chain of custody from generation to composting.",
        "This RecycledID represents 2.5 metric tons of recycled plastic bottles processed by Green Solutions Ltd."
      ],
      "type": "string",
      "minLength": 1,
      "maxLength": 500
    },
    "image": {
      "title": "Image URI",
      "description": "IPFS URI pointing to the NFT preview image displayed in marketplaces and wallets",
      "examples": [
        "ipfs://bafybeigdyrztvzl5cceubvaxob7iqh6f3f7s36c74ojav2xsz2uib2g3vm",
        "ipfs://bafybeihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku"
      ],
      "type": "string",
      "minLength": 1,
      "pattern": "^ipfs:\\/\\/(?:Qm[1-9A-HJ-NP-Za-km-z]{44}|[bB][a-z2-7]{58,}|[zZ][1-9A-HJ-NP-Za-km-z]{48,})(?:\\/[^\\s]*)?$"
    },
    "background_color": {
      "title": "Background Color",
      "description": "Hexadecimal color code used as background color in NFT marketplace displays",
      "examples": [
        "#2D5A27",
        "#FF5733"
      ],
      "type": "string",
      "minLength": 1,
      "pattern": "^#[0-9A-F]{6}$"
    },
    "animation_url": {
      "title": "Animation URL",
      "description": "IPFS URI pointing to an animated or interactive media file for enhanced NFT display",
      "examples": [
        "ipfs://bafybeigdyrztvzl5cceubvaxob7iqh6f3f7s36c74ojav2xsz2uib2g3vm",
        "ipfs://bafybeihdwdcefgh4dqkjv67uzcmw7ojee6xedzdetojuzjevtenxquvyku"
      ],
      "type": "string",
      "minLength": 1,
      "pattern": "^ipfs:\\/\\/(?:Qm[1-9A-HJ-NP-Za-km-z]{44}|[bB][a-z2-7]{58,}|[zZ][1-9A-HJ-NP-Za-km-z]{48,})(?:\\/[^\\s]*)?$"
    },
    "external_links": {
      "title": "External Links",
      "description": "Optional list of public resource links with labels",
      "type": "array",
      "items": {
        "title": "External Link",
        "description": "External link with label and description",
        "type": "object",
        "properties": {
          "label": {
            "title": "Link Label",
            "description": "Display name for the external link",
            "type": "string",
            "minLength": 1,
            "maxLength": 50
          },
          "url": {
            "title": "Link URL",
            "description": "Direct URI to the linked resource",
            "examples": [
              "https://explore.carrot.eco/",
              "https://whitepaper.carrot.eco/"
            ],
            "type": "string",
            "format": "uri"
          },
          "description": {
            "title": "Link Description",
            "description": "Optional context about what the link provides",
            "type": "string",
            "minLength": 10,
            "maxLength": 100
          }
        },
        "required": [
          "label",
          "url"
        ],
        "additionalProperties": false
      }
    },
    "attributes": {
      "title": "Credit Purchase Receipt NFT Attribute Array",
      "description": "Attributes for credit purchase receipts including per-credit breakdowns, totals, buyer, purchase date, and optional retirement info. Fixed required attributes: Total Credits Purchased, Total Amount (USDC), Purchase Date, Certificates Purchased. Conditional attributes: Buyer (required when buyer.identity.name is provided), Retirement Date (optional, when retirement_receipt is present), Retirement Receipt (optional, when retirement_receipt is present). Dynamic attributes: Credit attributes (one per credit symbol in data.credits).\n\nRequired attributes (4): Total Credits Purchased, Total Amount (USDC), Purchase Date, Certificates Purchased",
      "minItems": 4,
      "type": "array",
      "items": {
        "anyOf": [
          {
            "title": "Total Credits Purchased Attribute",
            "description": "Total number of credits purchased across all tokens attribute with numeric display",
            "type": "object",
            "properties": {
              "trait_type": {
                "type": "string",
                "const": "Total Credits Purchased"
              },
              "value": {
                "title": "Total Credits Purchased",
                "description": "Total number of credits purchased across all tokens",
                "examples": [
                  0,
                  45.2,
                  72.5
                ],
                "type": "number",
                "minimum": 0
              },
              "display_type": {
                "type": "string",
                "const": "number"
              },
              "max_value": {
                "title": "Max Value",
                "description": "Maximum possible value for numeric traits",
                "examples": [
                  0,
                  45.2,
                  72.5
                ],
                "type": "number",
                "minimum": 0
              }
            },
            "required": [
              "trait_type",
              "value",
              "display_type"
            ],
            "additionalProperties": false
          },
          {
            "title": "Total Amount (USDC) Attribute",
            "description": "Total USDC amount paid for the purchase attribute with numeric display",
            "type": "object",
            "properties": {
              "trait_type": {
                "type": "string",
                "const": "Total Amount (USDC)"
              },
              "value": {
                "title": "Total Amount (USDC)",
                "description": "Total USDC amount paid for the purchase",
                "examples": [
                  0,
                  45.2,
                  72.5
                ],
                "type": "number",
                "minimum": 0
              },
              "display_type": {
                "type": "string",
                "const": "number"
              },
              "max_value": {
                "title": "Max Value",
                "description": "Maximum possible value for numeric traits",
                "examples": [
                  0,
                  45.2,
                  72.5
                ],
                "type": "number",
                "minimum": 0
              }
            },
            "required": [
              "trait_type",
              "value",
              "display_type"
            ],
            "additionalProperties": false
          },
          {
            "title": "Purchase Date Attribute",
            "description": "Unix timestamp in milliseconds when the purchase was completed attribute",
            "type": "object",
            "properties": {
              "trait_type": {
                "type": "string",
                "const": "Purchase Date"
              },
              "value": {
                "title": "Purchase Date",
                "description": "Unix timestamp in milliseconds when the purchase was completed",
                "examples": [
                  1704067200000
                ],
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "display_type": {
                "type": "string",
                "const": "date"
              }
            },
            "required": [
              "trait_type",
              "value",
              "display_type"
            ],
            "additionalProperties": false
          },
          {
            "title": "Certificates Purchased Attribute",
            "description": "Total number of certificates purchased attribute with numeric display",
            "type": "object",
            "properties": {
              "trait_type": {
                "type": "string",
                "const": "Certificates Purchased"
              },
              "value": {
                "title": "Certificates Purchased",
                "description": "Total number of certificates purchased",
                "examples": [
                  1,
                  123,
                  456
                ],
                "type": "integer",
                "minimum": 1,
                "maximum": 9007199254740991
              },
              "display_type": {
                "type": "string",
                "const": "number"
              },
              "max_value": {
                "title": "Max Value",
                "description": "Maximum possible value for numeric traits",
                "examples": [
                  0,
                  45.2,
                  72.5
                ],
                "type": "number",
                "minimum": 0
              }
            },
            "required": [
              "trait_type",
              "value",
              "display_type"
            ],
            "additionalProperties": false
          },
          {
            "title": "Buyer Attribute",
            "description": "Attribute containing the buyer display name",
            "type": "object",
            "properties": {
              "trait_type": {
                "type": "string",
                "const": "Buyer"
              },
              "value": {
                "title": "Buyer",
                "description": "Organization or individual purchasing the credits",
                "examples": [
                  "EcoTech Solutions Inc."
                ],
                "type": "string",
                "minLength": 1,
                "maxLength": 100
              }
            },
            "required": [
              "trait_type",
              "value"
            ],
            "additionalProperties": false
          },
          {
            "title": "Retirement Date Attribute",
            "description": "Unix timestamp in milliseconds when credits were retired (if retirement occurred) attribute",
            "type": "object",
            "properties": {
              "trait_type": {
                "type": "string",
                "const": "Retirement Date"
              },
              "value": {
                "title": "Retirement Date",
                "description": "Unix timestamp in milliseconds when credits were retired (if retirement occurred)",
                "examples": [
                  1704067200000
                ],
                "type": "integer",
                "exclusiveMinimum": 0,
                "maximum": 9007199254740991
              },
              "display_type": {
                "type": "string",
                "const": "date"
              }
            },
            "required": [
              "trait_type",
              "value",
              "display_type"
            ],
            "additionalProperties": false
          },
          {
            "title": "Retirement Receipt Attribute",
            "description": "Retirement receipt token ID attribute",
            "type": "object",
            "properties": {
              "trait_type": {
                "type": "string",
                "const": "Retirement Receipt"
              },
              "value": {
                "title": "Retirement Receipt Token ID",
                "description": "Token ID of the retirement receipt NFT as #<token_id> (if retirement occurred)",
                "example": "#123",
                "type": "string",
                "minLength": 1,
                "pattern": "^#\\d+$"
              },
              "display_type": {
                "title": "Display Type",
                "description": "How the trait should be displayed in marketplace UIs",
                "type": "string",
                "enum": [
                  "number",
                  "date",
                  "boost_number",
                  "boost_percentage"
                ]
              },
              "max_value": {
                "title": "Max Value",
                "description": "Maximum possible value for numeric traits",
                "examples": [
                  0,
                  45.2,
                  72.5
                ],
                "type": "number",
                "minimum": 0
              }
            },
            "required": [
              "trait_type",
              "value"
            ],
            "additionalProperties": false
          },
          {
            "title": "Credit Attribute",
            "description": "Attribute representing purchased amount per credit token symbol",
            "type": "object",
            "properties": {
              "trait_type": {
                "title": "Credit Token Symbol",
                "description": "ERC20 token symbol identifier",
                "examples": [
                  "C-CARB.CH4",
                  "C-BIOW"
                ],
                "type": "string",
                "enum": [
                  "C-CARB.CH4",
                  "C-BIOW"
                ]
              },
              "value": {
                "title": "Credit Amount",
                "description": "Amount of credits purchased for the token symbol",
                "examples": [
                  0,
                  45.2,
                  72.5
                ],
                "type": "number",
                "minimum": 0
              },
              "display_type": {
                "type": "string",
                "const": "number"
              },
              "max_value": {
                "title": "Max Value",
                "description": "Maximum possible value for numeric traits",
                "examples": [
                  0,
                  45.2,
                  72.5
                ],
                "type": "number",
                "minimum": 0
              }
            },
            "required": [
              "trait_type",
              "value",
              "display_type"
            ],
            "additionalProperties": false
          }
        ]
      }
    }
  },
  "required": [
    "$schema",
    "schema",
    "created_at",
    "external_id",
    "external_url",
    "content_hash",
    "viewer_reference",
    "environment",
    "data",
    "full_content_hash",
    "blockchain",
    "name",
    "short_name",
    "description",
    "image",
    "attributes"
  ],
  "additionalProperties": false
}